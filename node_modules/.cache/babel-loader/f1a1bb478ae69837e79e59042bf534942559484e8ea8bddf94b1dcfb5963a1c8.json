{"ast":null,"code":"var _jsxFileName = \"/home/abdel/projeto14-mywallet-front/src/pages/SignInPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Container } from \"../components/Container\";\nimport logo from \"../assets/images/logo.svg\";\nimport { Input } from \"../components/Input\";\nimport { ButtonForm } from \"../components/Buttonform\";\nimport { Link } from \"react-router-dom\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignInPage() {\n  _s();\n  const [signInForm, setsignInForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    userToken,\n    setUserToken,\n    userNome,\n    setUserNome\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  function logRequest(e) {\n    var _axios$post;\n    e.preventDefault();\n    (_axios$post = axios.post(`${BASE_URL}/sign-in`, signInForm)) === null || _axios$post === void 0 ? void 0 : _axios$post.then(res => {\n      console.log(\"logou\", res);\n      localStorage.setItem(\"tokenData\", JSON.stringify(res.data.token));\n      setUserToken(JSON.parse(localStorage.getItem(\"tokenData\")));\n      setUserNome(res.data.nome);\n      navigate(\"/wallet\");\n    }).catch(err => {\n      console.log(err.response.data.message);\n      alert(err.response.data.message);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {\n        src: logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: logRequest,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"email\",\n          placeholder: \"E-mail\",\n          \"data-test\": \"email\",\n          value: signInForm.email,\n          onChange: e => setsignInForm({\n            ...signInForm,\n            [e.target.name]: e.target.value\n          }),\n          type: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"password\",\n          placeholder: \"Senha\",\n          \"data-teste\": \"password\",\n          value: signInForm.password,\n          onChange: e => setsignInForm({\n            ...signInForm,\n            [e.target.name]: e.target.value\n          }),\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ButtonForm, {\n          \"data-test\": \"sign-in-submit\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signUp\",\n        children: /*#__PURE__*/_jsxDEV(LinkSign, {\n          children: \"N\\xE3o possu\\xED uma conta? Cadastre-se\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(SignInPage, \"OorNLNKj+0sbf76Uzx8DYM1r+IY=\", false, function () {\n  return [useNavigate];\n});\n_c = SignInPage;\nconst Logo = styled.img`\n  margin-bottom: 25px;\n`;\n_c2 = Logo;\nconst Form = styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n_c3 = Form;\nconst LinkSign = styled.h3`\n  margin-top: 20px;\n  font-size: 17px;\n  line-height: 16px;\n`;\n_c4 = LinkSign;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"SignInPage\");\n$RefreshReg$(_c2, \"Logo\");\n$RefreshReg$(_c3, \"Form\");\n$RefreshReg$(_c4, \"LinkSign\");","map":{"version":3,"names":["React","useState","styled","Container","logo","Input","ButtonForm","Link","BASE_URL","useContext","UserContext","axios","useNavigate","SignInPage","signInForm","setsignInForm","email","password","userToken","setUserToken","userNome","setUserNome","navigate","logRequest","e","preventDefault","post","then","res","console","log","localStorage","setItem","JSON","stringify","data","token","parse","getItem","nome","catch","err","response","message","alert","target","name","value","Logo","img","Form","form","LinkSign","h3"],"sources":["/home/abdel/projeto14-mywallet-front/src/pages/SignInPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Container } from \"../components/Container\";\nimport logo from \"../assets/images/logo.svg\";\nimport { Input } from \"../components/Input\";\nimport { ButtonForm } from \"../components/Buttonform\";\nimport { Link } from \"react-router-dom\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function SignInPage() {\n  const [signInForm, setsignInForm] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const { userToken, setUserToken, userNome, setUserNome } =\n    useContext(UserContext);\n  const navigate = useNavigate();\n\n  function logRequest(e) {\n    e.preventDefault();\n\n    axios\n      .post(`${BASE_URL}/sign-in`, signInForm)\n      ?.then((res) => {\n        console.log(\"logou\", res);\n        localStorage.setItem(\"tokenData\", JSON.stringify(res.data.token));\n        setUserToken(JSON.parse(localStorage.getItem(\"tokenData\")));\n        setUserNome(res.data.nome);\n        navigate(\"/wallet\");\n      })\n      .catch((err) => {\n        console.log(err.response.data.message);\n        alert(err.response.data.message);\n      });\n  }\n\n  return (\n    <>\n      <Container>\n        <Logo src={logo} alt=\"logo\" />\n        <Form onSubmit={logRequest}>\n          <Input\n            name=\"email\"\n            placeholder=\"E-mail\"\n            data-test=\"email\"\n            value={signInForm.email}\n            onChange={(e) =>\n              setsignInForm({ ...signInForm, [e.target.name]: e.target.value })\n            }\n            type=\"email\"\n          />\n          <Input\n            name=\"password\"\n            placeholder=\"Senha\"\n            data-teste=\"password\"\n            value={signInForm.password}\n            onChange={(e) =>\n              setsignInForm({ ...signInForm, [e.target.name]: e.target.value })\n            }\n            type=\"password\"\n          />\n          <ButtonForm data-test=\"sign-in-submit\">Entrar</ButtonForm>\n        </Form>\n        <Link to={\"/signUp\"}>\n          <LinkSign>Não possuí uma conta? Cadastre-se</LinkSign>\n        </Link>\n      </Container>\n    </>\n  );\n}\n\nconst Logo = styled.img`\n  margin-bottom: 25px;\n`;\n\nconst Form = styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst LinkSign = styled.h3`\n  margin-top: 20px;\n  font-size: 17px;\n  line-height: 16px;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}